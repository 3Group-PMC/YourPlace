define(["dojo/_base/declare","dojo/_base/lang","dojo/query","dojo/dom-class","dojo/on","dojo/domReady!"],function(a,b,c,d,e){var f=a(null,{constructor:function(){this.initEvents()},dropdownMenuItemSelector:".calcite-navbar .calcite-dropdown li > a",autoCollapsePanel:!0,preventOverscrolling:!0,activePanel:null,stickyDropdownDesktop:!0,stickyDropdownMobile:!1,stickyDropdownBreakpoint:768,initEvents:function(){this.setDropdownItemEvents(),this.setDropdownToggleEvents(),this.setToggleNavbarClick(),this.setPanelEvents(),this.setTouchEvents()},setDropdownItemEvents:function(){var a=function(a){var b=!1,f=null,g=null,h=null;if(a.currentTarget.dataset.target&&(f=c(a.currentTarget.dataset.target),f.length>0&&(b=d.contains(f[0],"panel"))),b){g=c(f).query(".panel-collapse"),d.contains(f[0],"in")?(f.removeClass("in"),c(g[0]).removeClass("in"),f.collapse("show"),c(g[0]).collapse("show")):(h=c(f).parent().query(".panel.in"),h.collapse("hide"),c(h).query(".panel-collapse").collapse("hide"),f.collapse("show"),c(g[0]).collapse("show"));var i=window.innerWidth<this.stickyDropdownBreakpoint;if(i&&!this.stickyDropdownMobile||!i&&!this.stickyDropdownDesktop){var j=c(".calcite-dropdown .dropdown-toggle")[0];e.emit(j,"click",{bubbles:!0,cancelable:!0})}this.activePanel=f}}.bind(this);c(this.dropdownMenuItemSelector).on("click",b.hitch(this,a))},setDropdownToggleEvents:function(){c(".calcite-dropdown .dropdown-toggle").on("click",function(){c(this).parent().toggleClass("open"),c(".calcite-dropdown-toggle").toggleClass("open")}),c(".calcite-dropdown").on("hide.bs.dropdown",function(){c(".calcite-dropdown-toggle").removeClass("open")}),c(window).on("click",function(a){var b=c(".calcite-dropdown.open")[0];b&&0===c(a.target).closest(".calcite-dropdown").length&&(c(b).removeClass("open"),c(".calcite-dropdown-toggle").removeClass("open"))})},setToggleNavbarClick:function(){c("#calciteToggleNavbar").on("click",function(){d.contains(c("body")[0],"calcite-nav-hidden")?c("body").removeClass("calcite-nav-hidden"):c("body").addClass("calcite-nav-hidden");var a=c(".calcite-dropdown .dropdown-toggle")[0];a&&e.emit(a,"click",{bubbles:!0,cancelable:!0})})},setPanelEvents:function(){this.autoCollapsePanel&&(c(".calcite-panels .panel .panel-collapse").on("hidden.bs.collapse",function(a){c(a.target.parentNode).query(".panel-label, .panel-close").addClass("visible-mobile-only")}),c(".calcite-panels .panel .panel-collapse").on("show.bs.collapse",function(a){c(a.target.parentNode).query(".panel-label, .panel-close").removeClass("visible-mobile-only")}))},setTouchEvents:function(){var a=function(a){this.preventOverscrolling&&a.target instanceof SVGSVGElement&&a.preventDefault()};c(".calcite-map").on("touchmove",b.hitch(this,a))}});return new f});